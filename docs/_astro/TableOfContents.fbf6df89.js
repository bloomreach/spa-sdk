import{r as n}from"./index.03be2d59.js";import{j as t}from"./jsx-runtime.b9e88e07.js";const{replace:m}="",g=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34);/g,x={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"'},v=r=>x[r],w=r=>m.call(r,g,v),j=({headings:r=[]})=>{const o=n.useRef(null),a="on-this-page-heading",f=n.useRef([]),[d,u]=n.useState("overview");n.useEffect(()=>{const e=()=>{const c=document.querySelectorAll("article :is(h1, h2, h3, h4)");f.current=Array.from(c).map(s=>({id:s.id,topOffset:s.getBoundingClientRect().top+window.scrollY}))};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),n.useEffect(()=>{if(!o.current)return;const e=i=>{for(const l of i)if(l.isIntersecting){const{id:p}=l.target;if(p===a)continue;u(l.target.id);break}},c={rootMargin:"-100px 0% -66%",threshold:1},s=new IntersectionObserver(e,c);return document.querySelectorAll("article :is(h1,h2,h3)").forEach(i=>s.observe(i)),()=>s.disconnect()},[o.current]);const h=e=>{u(e.target.getAttribute("href").replace("#",""))};return t.jsxs(t.Fragment,{children:[t.jsx("h2",{id:a,className:"heading",children:"On this page"}),t.jsx("ul",{ref:o,children:r.filter(({depth:e})=>e>1&&e<4).map(e=>t.jsx("li",{className:`header-link depth-${e.depth} ${d===e.slug?"current-header-link":""}`.trim(),children:t.jsx("a",{href:`#${e.slug}`,onClick:h,children:w(e.text)})},e.slug))})]})};export{j as default};
